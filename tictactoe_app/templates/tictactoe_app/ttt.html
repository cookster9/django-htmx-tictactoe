{% extends "tictactoe_app/base.html" %}

{% block content %}
{% if winner is not None %}
    <p>Player {{ winner}} wins!</p>
{% else %}
    <p hx-get="/{{ id }}/winner/" hx-trigger="winnerFound from:body" hx-target="this" hx-swap="outerHTML" hidden>Winner</p>
{% endif %}
<p id="player-p">Player turn: {{ player_turn }}</p>
{% if board %}
    <ul>
    {% for square in board %}
        {% if forloop.counter0 == 3 or forloop.counter0 == 6%}
            <br>
        {% endif %}
        <button class="w-10 h-10 rounded bg-sky-100 hover:bg-sky-300" hx-post="/{{ id }}/" hx-target="this" hx-swap="innerHTML" hx-vals='"coord": "{{ forloop.counter0 }}"'>{{ square }}</button>
    {% endfor %}
    </ul>
{% else %}
    <p>Game board not found</p>
{% endif %}
{% endblock %}